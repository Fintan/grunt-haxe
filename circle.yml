machine:
  pre:
      - apt-get install ocaml camlp4 ocaml-findlib cvs zlib1g-dev make wget tar subversion
      - mkdir haxesrc
      - cd haxesrc
      - wget http://haxe.googlecode.com/svn/trunk/doc/install.ml
      - ocaml install.ml
      -  #reset previous installations
      -  #sudo rm -rf /usr/local/haxe
      -  #sudo rm -rf /usr/local/bin/haxe*
      - # install haxe in /usr/local
      - mkdir /usr/local/haxe
      - mkdir /usr/local/haxe/bin
      - cp bin/* /usr/local/haxe/bin
      - cp -r haxe/std /usr/local/haxe
      - ln -s /usr/local/haxe/bin/haxe /usr/local/bin/haxe
      - # setup environment variables for haxe
      - grep "HAXE_LIBRARY_PATH" /etc/environment || echo "export HAXE_LIBRARY_PATH=/usr/local/haxe/std:." | sudo tee -a /etc/environment
      - haxe

